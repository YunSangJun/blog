<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="/blog/assets/css/home.css">
  <link rel="stylesheet" href="/blog/assets/css/category.css">
  <link rel="stylesheet" href="/blog/assets/css/tag.css">
  <link rel="stylesheet" href="/blog/assets/main.css"><!-- Begin Jekyll SEO tag v2.4.0 -->
<title>Solidity Programming #5 함수 호출 | 개발 노트</title>
<meta name="generator" content="Jekyll v3.7.3" />
<meta property="og:title" content="Solidity Programming #5 함수 호출" />
<meta name="author" content="sj" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="이 페이지에서는 Solidity의 함수 호출(function call)에 대해 살펴보겠습니다." />
<meta property="og:description" content="이 페이지에서는 Solidity의 함수 호출(function call)에 대해 살펴보겠습니다." />
<link rel="canonical" href="http://localhost:4000/blog/solidity/2018/11/12/solidity-programming-function.html" />
<meta property="og:url" content="http://localhost:4000/blog/solidity/2018/11/12/solidity-programming-function.html" />
<meta property="og:site_name" content="개발 노트" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-11-12T00:00:00+09:00" />
<script type="application/ld+json">
{"description":"이 페이지에서는 Solidity의 함수 호출(function call)에 대해 살펴보겠습니다.","author":{"@type":"Person","name":"sj"},"@type":"BlogPosting","url":"http://localhost:4000/blog/solidity/2018/11/12/solidity-programming-function.html","headline":"Solidity Programming #5 함수 호출","dateModified":"2018-11-12T00:00:00+09:00","datePublished":"2018-11-12T00:00:00+09:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/blog/solidity/2018/11/12/solidity-programming-function.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  <meta property="article:tag" content="ethereum" >
  
  <meta property="article:tag" content="solidity" >
  
  <meta property="article:tag" content="smartcontract" >
  <link type="application/atom+xml" rel="alternate" href="http://localhost:4000/blog/feed.xml" title="개발 노트" /><meta name="naver-site-verification" content="33e13a38620284ab48998da35e7c8e63ec9c7319"/>
</head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/blog/">개발 노트</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger">
            <a class="page-link" href="/blog/categories">Categories</a>
            <a class="page-link" href="/blog/tags">Tags</a>
        </div>

        <!--div class="trigger"><a class="page-link" href="/blog/assets/images/oauth-proxy/2018-05-23-oauth-proxy.html">OAuth Proxy를 활용한 애플리케이션 인증 및 인가</a><a class="page-link" href="/blog/categories/">Categories</a><a class="page-link" href="/blog/tags/">Tags</a></div-->
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Solidity Programming #5 함수 호출</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2018-11-12T00:00:00+09:00" itemprop="datePublished">Nov 12, 2018
      </time>• <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">sj</span></span></p>
      
<img src="/blog/assets/images/tag-256.png" alt="Tags: " class="tag-img"/>
<div class="post-tags">
  
  
  <a href="/blog/tags/#ethereum">ethereum</a>,
  
  <a href="/blog/tags/#solidity">solidity</a>,
  
  <a href="/blog/tags/#smartcontract">smartcontract</a>
  
</div>
<br/>

  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>이 페이지에서는 Solidity의 함수 호출(function call)에 대해 살펴보겠습니다.</p>

<h2 id="내부-함수-호출internal-function-call">내부 함수 호출(internal function call)</h2>

<p>Contract 내부에 있는 함수를 그대로 호출하는 경우를 내부 함수 호출이라하고 합니다.
내부 함수 호출은 EVM 호출을 만들지 않고 단순 점프로 변환됩니다. 이 때 함수의 매개변수는 EVM의 메모리에 저장됩니다.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pragma solidity ^0.x.x;

contract C {
    function sum(uint x, uint y) public returns(uint) {
        return x + y;
    }

    function internalFunctionCall(uint x, uint y, uint z) public returns(uint) {
        //내부 함수 호출
        return sum(x, y) + z;
    }
}
</code></pre></div></div>

<h2 id="외부-함수-호출external-function-call">외부 함수 호출(external function call)</h2>

<p>다른 contract의 함수를 호출하는 것을 외부 함수 호출이라하고 합니다.
또 같은 contract 내부의 함수라도 접근자 <code class="highlighter-rouge">this</code>를 붙이면 외부 함수 호출로 처리됩니다.
외부 함수 호출은 EVM 함수 호출을 생성합니다. 이 때 함수의 매개변수는 EVM의 메모리가 아니라 콜 데이터 영역에 저장됩니다.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pragma solidity ^0.x.x;

contract C {
    function sum(uint x, uint y) public returns(uint) {
        return x + y;
    }

    function externalFunctionCall(uint x, uint y, uint z) public returns(uint) {
        //외부 함수 호출
        return this.sum(x, y) + z;
    }
}

contract D {
    function externalFunctionCall(uint x, uint y, uint z) public returns(uint) {
        //외부 함수 호출
        C c = new C();
        return c.sum(x, y) + z;
    }
}
</code></pre></div></div>

<p class="tip-title">참고</p>
<p class="tip-content">
가시성이 public인 함수는 외부 및 내부 호출이 둘 다 가능합니다. 따라서 함수를 pulbic으로 선언하면
매개변수를 메모리로 복사하게 됩니다. 만약 매개변수의 데이터 크기가 크다면 메모리를 많이 사용하므로
이에 대한 비용 또한 많이 지불해야합니다. 따라서 외부에서만 호출하고 내부에서 호출하지 않는 함수라면
external로 선언하는 것이 좋습니다. 함수를 external로 선언하면 내부에서 호출이 불가능하므로 매개변수를
메모리에 복사하지 않습니다.
</p>

<p>외부 함수 호출 시 <code class="highlighter-rouge">value</code>를 사용해 전송하는 이더 값을 설정할 수 있고 <code class="highlighter-rouge">gas</code>를 사용해 사용할 가스를 설정할 수 있습니다.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pragma solidity ^0.x.x;

contract C {
    function sum(uint x, uint y) public payable returns(uint) {
        return x + y;
    }
}

contract D {
    function externalFunctionCall(uint x, uint y, uint z) public returns(uint) {
        //외부 함수 호출
        C c = new C();
        return c.sum.value(10).gas(100)(x, y) + z;
    }
}
</code></pre></div></div>

  </div>
<div id="disqus_thread"></div>
<script>
  /**
  *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
  *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
  /*
  var disqus_config = function () {
  this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
  this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
  };
  */
  (function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = 'https://sj-blog.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a class="u-url" href="/blog/solidity/2018/11/12/solidity-programming-function.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/blog/"></data>

  <div class="wrapper">

    <!--h2 class="footer-heading">개발 노트</h2-->

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Yun SangJun</li><li><a class="u-email" href="mailto:ysj188cm@gmail.com">ysj188cm@gmail.com</a></li>
            <li>subscribe <a href="/blog/feed.xml">via RSS</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/yunsangjun"><svg class="svg-icon"><use xlink:href="/blog/assets/minima-social-icons.svg#github"></use></svg> <span class="username">yunsangjun</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>iOS를 시작으로 개발자의 길로 들어서 모바일 프레임워크와 애플리케이션을 개발했고 이후, 웹 개발자로 커리어를 전환해 웹 프레임워크, IDE를 개발했습니다. 최근에는 Kubernetes 및 Cloud 환경에서 애플리케션을 개발하고 빌드, 배포, 모니터링하는 운영 단계를 자동화하는 DevOps 엔지니어링을 하고 있습니다.</p>
      </div>

    </div>

  </div>

</footer>
</body>

</html>
